{"version":3,"file":"index-CZVDYg2O.js","sources":["../../src/components/ListPosts.vue","../../src/components/ListTags.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport moment from \"moment\";\r\nimport { CreateArticleData } from \"~/utils\";\r\n\r\nconst route = useRoute();\r\nconst props = defineProps<{ type?: string; tag?: string }>();\r\nconst tag = computed(\r\n  () => route.query?.tag?.toString().toLowerCase() || props.tag\r\n);\r\nconst type = computed(\r\n  () => route.query?.type?.toString().toLowerCase() || props.type\r\n);\r\nconst data = ref();\r\nwatch(\r\n  [tag, type],\r\n  () => {\r\n    data.value = CreateArticleData({ tag: tag.value, type: type.value });\r\n  },\r\n  { immediate: true }\r\n);\r\n</script>\r\n\r\n<template>\r\n  <div class=\"w-full min-h-55vh\">\r\n    <div class=\"w-full posts-collapse\">\r\n      <template v-for=\"item in data\">\r\n        <div class=\"collection-title\">\r\n          <h1 class=\"year\">{{ item.year }}</h1>\r\n        </div>\r\n        <div\r\n          class=\"post-header w-full\"\r\n          v-for=\"article in item.list\"\r\n          @click=\"$router.push(article.route)\"\r\n        >\r\n          <span class=\"mr-5\">\r\n            {{ moment(article.date).format(\"YY-MM-DD\") }}\r\n          </span>\r\n          <span class=\"mr-5\">{{ article.title }}</span>\r\n          <span class=\"tag mr-1\" v-for=\"tag in article.tags\">{{ tag }}</span>\r\n        </div>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"less\">\r\n.posts-collapse {\r\n  --collapse-bg: #f5f5f5;\r\n  --before-bg: #bbb;\r\n  --before-bg-hover: #222;\r\n  --header-border: #ccc;\r\n  --tag-bg: #eee;\r\n}\r\n\r\nhtml.dark {\r\n  .posts-collapse {\r\n    --collapse-bg: #8884;\r\n    --before-bg: #666;\r\n    --before-bg-hover: #999;\r\n    --header-border: #333;\r\n    --tag-bg: #222;\r\n  }\r\n}\r\n\r\n.posts-collapse {\r\n  position: relative;\r\n\r\n  &::after {\r\n    content: \" \";\r\n    position: absolute;\r\n    top: 20px;\r\n    left: 0;\r\n    margin-left: -2px;\r\n    width: 4px;\r\n    height: 100%;\r\n    background: var(--collapse-bg);\r\n    z-index: -1;\r\n  }\r\n\r\n  // 标题\r\n  .collection-title {\r\n    position: relative;\r\n    padding: 3rem 2rem;\r\n\r\n    .year {\r\n      margin: 0;\r\n      padding: 0;\r\n      color: inherit;\r\n    }\r\n\r\n    &::before {\r\n      content: \" \";\r\n      position: absolute;\r\n      left: 0;\r\n      top: 50%;\r\n      margin-left: -4px;\r\n      margin-top: -4px;\r\n      width: 8px;\r\n      height: 8px;\r\n      background: var(--before-bg);\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n\r\n  // 文章\r\n  .post-header {\r\n    position: relative;\r\n    padding: 1rem;\r\n    padding-left: 2rem;\r\n    border-bottom: 1px dashed var(--header-border);\r\n    cursor: pointer;\r\n\r\n    .tag {\r\n      color: var(--before-bg);\r\n      font-size: 12px;\r\n      background-color: var(--tag-bg);\r\n      padding: 2px 3px;\r\n      border-radius: 2px;\r\n    }\r\n\r\n    &:hover {\r\n      border-bottom-color: var(--before-bg-hover);\r\n      color: var(--c-bg-r);\r\n    }\r\n\r\n    &:hover::before {\r\n      background: var(--before-bg-hover);\r\n      scale: 1.2;\r\n    }\r\n\r\n    &::before {\r\n      content: \" \";\r\n      position: absolute;\r\n      left: 0;\r\n      top: 50%;\r\n      width: 6px;\r\n      height: 6px;\r\n      margin-left: -3px;\r\n      background: var(--before-bg);\r\n      border-radius: 50%;\r\n      border: 1px solid var(--c-bg);\r\n      transition: all 0.2s ease-in-out;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport { PageTagList } from \"~/utils\";\r\n\r\nconst typeList = [\r\n  {\r\n    name: \"Work\",\r\n    path: \"/blog?type=blog\",\r\n  },\r\n  {\r\n    name: \"Leetcode\",\r\n    path: \"/blog?type=leetcode\",\r\n  },\r\n  {\r\n    name: \"Travel\",\r\n    path: \"/blog?type=travel\",\r\n  },\r\n  {\r\n    name: \"Daily\",\r\n    path: \"/blog?type=daily\",\r\n  },\r\n  {\r\n    name: \"Read\",\r\n    path: \"/blog?type=read\",\r\n  },\r\n];\r\n\r\nconst tags = computed(() =>\r\n  [...PageTagList].sort((a, b) => a.length - b.length)\r\n);\r\n\r\nconst route = useRoute();\r\nconst type = computed(() => route.query.type?.toString() || \"\");\r\nconst notice = computed(\r\n  () => (route.meta.frontmatter as Any)?.notice[type.value]\r\n);\r\nconst selectedTag = computed(() => route.query.tag?.toString() || \"\");\r\n\r\nconst random = () => Math.random() * 255;\r\nconst colors = ref<string[]>([]);\r\n\r\nwatch(\r\n  tags,\r\n  () => {\r\n    if (colors.value.length != tags.value.length) {\r\n      colors.value = tags.value.map(\r\n        (_) => `rgba(${random()},${random()},${random()}, 0.3)`\r\n      );\r\n    }\r\n  },\r\n  { immediate: true, deep: true }\r\n);\r\n\r\nconst show = ref(false);\r\n</script>\r\n\r\n<template>\r\n  <div class=\"relative lg:pt-10 pt-5 pb-5 flex lt-lg:hidden\">\r\n    <div\r\n      class=\"item mr-3\"\r\n      v-for=\"item in typeList\"\r\n      @click=\"$router.push(item.path)\"\r\n    >\r\n      {{ item.name }}\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"lg:absolute lg:z-2 lg:w-20vw lg:p-5 lg:right-0 lg:top-0\">\r\n    <div class=\"relative lg:pt-10 pt-5 pb-5 flex items-center\">\r\n      <div\r\n        class=\"i-carbon-tag cursor-pointer mr-5 opacity-60 hover:opacity-100 z-100\"\r\n        @click=\"show = !show\"\r\n      />\r\n      <div\r\n        class=\"item mr-3 lg:hidden\"\r\n        v-for=\"item in typeList\"\r\n        @click=\"$router.push(item.path)\"\r\n      >\r\n        {{ item.name }}\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      v-show=\"show\"\r\n      :class=\"`flex flex-wrap tab_box\r\n      ${show ? 'op100' : 'op0!'}`\"\r\n    >\r\n      <span\r\n        :class=\"`tag mb-3 mr-3 opacity-60 hover:opacity-100\r\n          ${selectedTag == tag && 'selected'}`\"\r\n        v-for=\"(tag, i) in tags\"\r\n        :style=\"{ backgroundColor: colors[i] }\"\r\n        @click=\"$router.push(`/blog?type=${$route.query?.type}&tag=${tag}`)\"\r\n      >\r\n        {{ tag }}\r\n      </span>\r\n    </div>\r\n  </div>\r\n  <blockquote class=\"m-0!\">\r\n    <span v-if=\"notice\">{{ notice }}</span>\r\n    <span v-else>博客迁移中，部分内存未完成...</span>\r\n  </blockquote>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n.item {\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  opacity: 0.8;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.tab_box {\r\n  transition: all 0.3s ease-in;\r\n}\r\n\r\n.tag {\r\n  padding: 3px 5px;\r\n  border-radius: 2px;\r\n  cursor: pointer;\r\n}\r\n\r\n.tag.selected {\r\n  opacity: 1;\r\n}\r\n</style>\r\n"],"names":["route","useRoute","props","__props","tag","computed","_b","_a","type","data","ref","watch","CreateArticleData","typeList","tags","PageTagList","a","b","notice","selectedTag","random","colors","_","show"],"mappings":"yZAIA,MAAMA,EAAQC,IACRC,EAAQC,EACRC,EAAMC,EACV,IAAM,SAAA,QAAAC,GAAAC,EAAAP,EAAM,QAAN,YAAAO,EAAa,MAAb,YAAAD,EAAkB,WAAW,gBAAiBJ,EAAM,IAAA,EAEtDM,EAAOH,EACX,IAAM,SAAA,QAAAC,GAAAC,EAAAP,EAAM,QAAN,YAAAO,EAAa,OAAb,YAAAD,EAAmB,WAAW,gBAAiBJ,EAAM,KAAA,EAEvDO,EAAOC,IACb,OAAAC,EACE,CAACP,EAAKI,CAAI,EACV,IAAM,CACCC,EAAA,MAAQG,EAAkB,CAAE,IAAKR,EAAI,MAAO,KAAMI,EAAK,KAAA,CAAO,CACrE,EACA,CAAE,UAAW,EAAK,CAAA,qtBCfpB,MAAMK,EAAW,CACf,CACE,KAAM,OACN,KAAM,iBACR,EACA,CACE,KAAM,WACN,KAAM,qBACR,EACA,CACE,KAAM,SACN,KAAM,mBACR,EACA,CACE,KAAM,QACN,KAAM,kBACR,EACA,CACE,KAAM,OACN,KAAM,iBACR,CAAA,EAGIC,EAAOT,EAAS,IACpB,CAAC,GAAGU,CAAW,EAAE,KAAK,CAACC,EAAGC,IAAMD,EAAE,OAASC,EAAE,MAAM,CAAA,EAG/CjB,EAAQC,IACRO,EAAOH,EAAS,WAAM,QAAAE,EAAAP,EAAM,MAAM,OAAZ,YAAAO,EAAkB,aAAc,GAAE,EACxDW,EAASb,EACb,IAAO,OAAA,OAAAE,EAAAP,EAAM,KAAK,cAAX,YAAAO,EAAgC,OAAOC,EAAK,OAAK,EAEpDW,EAAcd,EAAS,WAAM,QAAAE,EAAAP,EAAM,MAAM,MAAZ,YAAAO,EAAiB,aAAc,GAAE,EAE9Da,EAAS,IAAM,KAAK,OAAA,EAAW,IAC/BC,EAASX,EAAc,CAAA,CAAE,EAE/BC,EACEG,EACA,IAAM,CACAO,EAAO,MAAM,QAAUP,EAAK,MAAM,SAC7BO,EAAA,MAAQP,EAAK,MAAM,IACvBQ,GAAM,QAAQF,GAAQ,IAAIA,EAAO,CAAC,IAAIA,EAAQ,CAAA,QAAA,EAGrD,EACA,CAAE,UAAW,GAAM,KAAM,EAAK,CAAA,EAG1B,MAAAG,EAAOb,EAAI,EAAK;;"}