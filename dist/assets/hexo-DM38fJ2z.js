import{c as s,o as a,f as n}from"./app-Bm1F-R0U.js";const e={class:"prose m-auto slide-enter-content"},t=n(`<h1 id="hexo搭建个人静态博客" tabindex="-1">Hexo搭建个人静态博客 <a class="header-anchor" href="#hexo搭建个人静态博客" aria-hidden="true">#</a></h1><span>      本站是基于Hexo, 使用NexT主题, Valine评论系统, 不蒜子站点统计 部署在码云上的博客 </span><h2 id="准备" tabindex="-1">准备 <a class="header-anchor" href="#准备" aria-hidden="true">#</a></h2><p>本站原本是部署在github上, <a href="https://github.com/shellingfordly/hexo-blog" target="_blank" rel="noopener">github源码</a>, 由于访问较慢, 迁移到了码云上, <a href="https://gitee.com/shellingfordly/shellingfordly" target="_blank" rel="noopener">码云源码</a></p><h3 id="node安装" tabindex="-1">node安装 <a class="header-anchor" href="#node安装" aria-hidden="true">#</a></h3><p>下载安装<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">node.js官网</a></p><h3 id="github账号" tabindex="-1">github账号 <a class="header-anchor" href="#github账号" aria-hidden="true">#</a></h3><p><a href="https://github.com/" target="_blank" rel="noopener">github官网</a> 注册并新建一个名为username.github.io的仓库</p><h3 id="码云账号" tabindex="-1">码云账号 <a class="header-anchor" href="#码云账号" aria-hidden="true">#</a></h3><p><a href="https://gitee.com/" target="_blank" rel="noopener">码云官网</a> 注册并新建一个名为username的仓库 国内的github, 部署在这上面访问会快一些</p><h2 id="hexo" tabindex="-1">hexo <a class="header-anchor" href="#hexo" aria-hidden="true">#</a></h2><p><a href="https://hexo.io/" target="_blank" rel="noopener">hexo官网</a> hexo使用可参考我记录的<a href="/2019/09/29/hexo%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3/">使用文档</a> 细节可参考<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">官方文档</a></p><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h3><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-"><span class="line"><span>npm install hexo-cli -g</span></span></code></pre><h3 id="开始搭建" tabindex="-1">开始搭建 <a class="header-anchor" href="#开始搭建" aria-hidden="true">#</a></h3><p>网站搭建细节可参考<a href="https://123sunxiaolin.github.io/2016/08/27/%E5%BE%92%E6%89%8B%E6%95%99%E4%BD%A0%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener">最晚的开始</a></p><h4 id="执行命令" tabindex="-1">执行命令 <a class="header-anchor" href="#执行命令" aria-hidden="true">#</a></h4><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// 新建一个hexo项目</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">hexo</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> init</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> 项目名称</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">cd</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> 项目名称</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// 运行在本地</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">hexo</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> s</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// 访问http://localhost:4000/</span></span></code></pre><h4 id="安装主题" tabindex="-1">安装主题 <a class="header-anchor" href="#安装主题" aria-hidden="true">#</a></h4><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-"><span class="line"><span>git clone https://github.com/iissnan/hexo-theme-next   themes/next</span></span></code></pre><h3 id="部署" tabindex="-1">部署 <a class="header-anchor" href="#部署" aria-hidden="true">#</a></h3><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// 清除缓存</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">hexo</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">  clean</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// 生成页面并部署到github</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">hexo</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">  g</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> -</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">d</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// 可能需要登录github</span></span></code></pre><h2 id="next" tabindex="-1">NexT <a class="header-anchor" href="#next" aria-hidden="true">#</a></h2><blockquote><p>hexo主题</p></blockquote><p><a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">NexT主题安装</a> NexT使用细节可参考<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">NexT使用文档</a> 一些自定义细节修改可参考<a href="https://segmentfault.com/a/1190000009544924#articleHeader10" target="_blank" rel="noopener">Moorez的文章</a></p><h3 id="修改鼠标样式" tabindex="-1">修改鼠标样式 <a class="header-anchor" href="#修改鼠标样式" aria-hidden="true">#</a></h3><p>打开themes/next/source/css/_custom/custom.styl 在里面添加代码, icon图片就存在source/images中, 也可以使用外链 必须事ico图片</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-css"><span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">*</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  cursor</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#B8A965;--s-light:#998418;"> url</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">/images/mouse.ico</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">),</span><span style="--s-dark:#C99076;--s-light:#A65E2B;"> auto</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> !important</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">active</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  cursor</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#B8A965;--s-light:#998418;"> url</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">/images/mouse.ico</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">),</span><span style="--s-dark:#C99076;--s-light:#A65E2B;"> auto</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> !important</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><h3 id="关闭打赏字体闪动" tabindex="-1">关闭打赏字体闪动 <a class="header-anchor" href="#关闭打赏字体闪动" aria-hidden="true">#</a></h3><p>打开 next/source/css/_common/components/post/post-reward.styl 将函数wechat:hover和alipay:hover注释或者删掉即可</p><h3 id="添加字数统计" tabindex="-1">添加字数统计 <a class="header-anchor" href="#添加字数统计" aria-hidden="true">#</a></h3><p>下载插件</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-"><span class="line"><span>npm install hexo-wordcount --save</span></span></code></pre><p>在/themes/next/layout/_partials/footer.swig中添加代码</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">div</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> class</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">theme-info</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">div</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> class</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">powered-by</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">div</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">span</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> class</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">post-count</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">全站共{{ totalcount(site) }}字</span><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">span</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">div</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span></code></pre><h2 id="来必力" tabindex="-1">来必力 <a class="header-anchor" href="#来必力" aria-hidden="true">#</a></h2><blockquote><p>评论系统 <a href="https://www.livere.com/" target="_blank" rel="noopener">来必力官网</a></p></blockquote><p>细节可参考<a href="https://blog.smoker.cc/web/add-comments-livere-for-hexo-theme-next.html" target="_blank" rel="noopener">字节流的博客</a></p><p>注册安装之后在管理页面–代码管理中查看你的data-uid, 然后在主题配置文件themes/next/_config.yml中设置就可以了</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-"><span class="line"><span>livere_uid:</span></span></code></pre><h2 id="valine" tabindex="-1">Valine <a class="header-anchor" href="#valine" aria-hidden="true">#</a></h2><blockquote><p>评论系统 <a href="https://valine.js.org/" target="_blank" rel="noopener">官方文档</a></p></blockquote><p>之前使用的是来必力, 需要登录评论, 考虑到有些朋友不喜欢登录, 换成了Valine, 不过就没有了点赞和踩, 举报, 查看自己评论的这些功能了, 头像也是固定的, 虽然可以使用Gravatar账号, 但更加麻烦了 首先注册<a href="https://leancloud.cn/" target="_blank" rel="noopener">LeanCloud</a>, 创建应用–设置–应用Key中找到APP ID和APP Key, 开启valine并填入appid和appkey即可, 其他可默认, 详细操作可查看官方文档</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">valine</span><span style="--s-dark:#666666;--s-light:#999999;">:</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  enable</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> true</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  appid</span><span style="--s-dark:#666666;--s-light:#999999;">:</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  appkey</span><span style="--s-dark:#666666;--s-light:#999999;">:</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  notify</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> false</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> # </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">邮箱提醒</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  verify</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> false</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> # </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">验证码服务</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  placeholder</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> 说点什么呢</span><span style="--s-dark:#666666;--s-light:#999999;">...</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> # </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">占位提示符</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  avatar</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">   # </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">设置默认头像</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  guest_info</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> nick</span><span style="--s-dark:#666666;--s-light:#999999;">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">mail</span><span style="--s-dark:#666666;--s-light:#999999;">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">link</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  pageSize</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 10</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> # </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">评论列表分页</span></span>
<span class="line"></span></code></pre><h2 id="不蒜子" tabindex="-1">不蒜子 <a class="header-anchor" href="#不蒜子" aria-hidden="true">#</a></h2><blockquote><p>站点统计工具</p></blockquote><p>详情参数<a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="noopener">不蒜子官网</a></p><p>在主题配置文件themes/next/_config.yml中设置<strong>busuanzi_count</strong>的配置项</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">busuanzi_count</span><span style="--s-dark:#666666;--s-light:#999999;">:</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">	# </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">是否开启</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  enable</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> true</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">	# </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">访客数</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">	site_uv</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> true</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">	site_uv_header</span><span style="--s-dark:#666666;--s-light:#999999;">:</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">	site_uv_footer</span><span style="--s-dark:#666666;--s-light:#999999;">:</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">	# </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">访问量</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">	site_pv</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> true</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">	site_pv_header</span><span style="--s-dark:#666666;--s-light:#999999;">:</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">	site_pv_footer</span><span style="--s-dark:#666666;--s-light:#999999;">:</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">	# </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">阅读量</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">	page_pv</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> true</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">	page_pv_header</span><span style="--s-dark:#666666;--s-light:#999999;">:</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">	page_pv_footer</span><span style="--s-dark:#666666;--s-light:#999999;">:</span></span></code></pre><p><strong>注意</strong> 由于不蒜子的脚本获取网址改变了, 所以如果直接下载了next主题并添加 busuanzi_count 配置项之后可能还是统计不到数据, 需要修改 /themes/next/layout/_third-party/analytics/busuanzi-counter.swig 文件, 将其src改成 busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js 即可</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  async</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  src</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js</span><span style="--s-dark:#C98A7D99;--s-light:#B5695999;">&quot;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span></code></pre>`,51),l=[t],d={__name:"hexo",setup(p){return(i,r)=>(a(),s("div",e,l))}};export{d as default};
//# sourceMappingURL=hexo-DM38fJ2z.js.map
